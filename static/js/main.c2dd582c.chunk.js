(this["webpackJsonpbanking-app"]=this["webpackJsonpbanking-app"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(8),l=n.n(s),i=(n(14),n(15),n(2)),r=[{email:"jao@gmail.com",password:"abc123",fullname:"Joshua Turingan",number:"47290539480",balance:1e3,isAdmin:!1,transactions:[]},{email:"veejay@gmail.com",password:"abc123",fullname:"Veejay Guibone",type:"Savings Account",number:"47290539481",balance:1029300.43,isAdmin:!0,transactions:[]},{email:"user5.gmail.com",password:"password5",fullname:"Taylor Swift",type:"Savings Account ",number:"47290539482",balance:392830.22,isAdmin:!1,budget:[{title:"Red Album Concert",amount:12e3},{title:"Make-up fee",amount:4e3}]},{email:"user4@gmail.com",password:"password4",fullname:"Jack Sparrow",type:"Savings Account",number:"47290539483",balance:1e3,isAdmin:!1,transactions:[]},{email:"user3@gmail.com",password:"password3",fullname:"Britney Spears",type:"Checking Account",number:"47290539484",balance:837495.38,isAdmin:!1,transactions:[]},{email:"user2@gmail.com",password:"password2",fullname:"Ellen Degeneres",type:"Checking Account",number:"47290539485",balance:574839.58,isAdmin:!1,transactions:[]},{email:"user1@gmail.com",password:"password1",fullname:"Ellon Musk",type:"Savings Peso",number:"47290539486",balance:1e4,isAdmin:!1,transactions:[]}],u=n(3),o=n(0),b=function(){return Object(o.jsxs)("h1",{id:"logo",children:[Object(o.jsx)("i",{className:"bx bxs-donate-heart"})," MockingJay Bank"]})},j=function(e){var t=e.user,n=e.logoutHandler,a=e.changePage,c=e.page,s=null;return t||(s=Object(o.jsx)(m,{changePage:a,page:c,logoutHandler:n})),t&&(s=Object(o.jsx)(d,{changePage:a,page:c,logoutHandler:n})),Object(o.jsxs)("section",{id:"side-menu",children:[Object(o.jsx)(b,{}),s]})},d=function(e){e.changePage;var t=e.logoutHandler,n=e.page;return Object(o.jsx)("ul",{children:Object(o.jsx)(O,{onClickHandler:t,active:n,icon:"bx bx-log-out",text:"Logout"})})},m=function(e){var t=e.changePage,n=e.logoutHandler,a=e.page;return Object(o.jsxs)("ul",{children:[Object(o.jsx)(O,{onClickHandler:t,active:a,page:"home",icon:"bx bx-home",text:"Home"}),Object(o.jsx)(O,{onClickHandler:t,active:a,page:"create-account",icon:"bx bx-user-pin",text:"Create Account"}),Object(o.jsx)(O,{onClickHandler:n,active:a,icon:"bx bx-log-out",text:"Logout"})]})},O=function(e){var t=e.icon,n=e.text,a=e.page,c=e.active;return Object(o.jsx)("li",{children:Object(o.jsxs)("a",{onClick:function(t){a?(t.preventDefault(),e.onClickHandler(a)):(t.preventDefault(),e.onClickHandler())},className:c===a?"active":"",href:"#",children:[Object(o.jsx)("i",{className:t})," ",n]})})},g=function(e){var t=e.editingUser,n=e.setEditingUser,a=e.index,c=e.setEditModal,s=e.setDeleteUser;return Object(o.jsxs)("div",{id:"actions",children:[Object(o.jsx)(f,{icon:"bx bx-edit",text:"Edit",index:a,actionType:"edit",editingUser:t,actionType2:"edit",setEditingUser:n,setEditModal:c}),Object(o.jsx)(f,{icon:"bx bxs-x-square",index:a,actionType:"delete",text:"Delete",editingUser:t,setDeleteUser:s})]})},f=function(e){var t=e.icon,n=e.text,a=(e.editingUser,e.actionType),c=e.setEditingUser,s=e.index,l=e.setEditModal,i=e.setDeleteUser;return Object(o.jsxs)("button",{onClick:function(e){return function(e,t){e.preventDefault(),"edit"===a&&(c(t),l(!0)),"delete"===a&&i(t)}(e,s)},children:[Object(o.jsx)("i",{className:t})," ",n]})},x=n(7);function p(e){return e.toLocaleString(void 0,{maximumFractionDigits:2})}function h(e){return parseFloat(e.replace(/,/g,""))||0}function v(e){var t,n=JSON.parse(localStorage.getItem("users")),a=Object(x.a)(n);try{for(a.s();!(t=a.n()).done;){var c=t.value;if(c.number===e)return c}}catch(s){a.e(s)}finally{a.f()}return!1}function y(e,t){var n=v(e);n.budget=t;var a=function(e){var t=JSON.parse(localStorage.getItem("users")).filter((function(t){return t.number!==e.number}));return t.push(e),t}(n);localStorage.setItem("users",JSON.stringify(a))}var S=function(e){var t=e.type,n=e.accountNumber,a=e.balance,c=e.fullname,s=e.editingUser,l=e.setEditingUser,i=e.setDeleteUser,r=e.index,u=e.isAdmin,b=e.setEditModal,j=u?Object(o.jsx)(g,{index:r,editingUser:s,setEditingUser:l,setEditModal:b,setDeleteUser:i}):"";return Object(o.jsxs)("div",{className:"account",children:[Object(o.jsxs)("div",{className:"details",children:[Object(o.jsx)(N,{fullname:c}),Object(o.jsx)(C,{type:t}),Object(o.jsx)(A,{accountNumber:n}),j]}),Object(o.jsx)(w,{balance:p(a)})]})},N=function(e){return Object(o.jsx)("h1",{children:e.fullname})},C=function(e){return Object(o.jsx)("h3",{children:e.type})},A=function(e){return Object(o.jsx)("div",{children:e.accountNumber})},w=function(e){var t=e.balance;return Object(o.jsx)("div",{className:"balance",children:t})},U=function(e){var t=e.users,n=e.editingUser,c=e.setEditingUser,s=e.setEditModal,l=e.setDeleteUser,r=Object(a.useState)(!1),u=Object(i.a)(r,2),b=u[0],j=u[1];Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentUser"));j(e.isAdmin)}),[b]);var d=t.map((function(e,t){return Object(o.jsx)(S,{index:t,fullname:e.fullname,type:e.type,isAdmin:b,accountNumber:e.number,balance:e.balance,editingUser:n,setEditingUser:c,setEditModal:s,setDeleteUser:l},t)}));return Object(o.jsx)("section",{id:"main-content",children:d})},E=function(e){return Object(o.jsx)("div",{className:"notif ".concat(e.style),children:e.message})},k=function(e){var t=function(){return Math.floor(1e9+9e9*Math.random())},n=Object(a.useState)({message:"Create a new client account.",style:"left"}),c=Object(i.a)(n,2),s=c[0],l=c[1],r=Object(a.useState)(0),u=Object(i.a)(r,2),b=u[0],j=u[1],d=Object(a.useState)(t()),m=Object(i.a)(d,2),O=m[0],g=m[1];return Object(o.jsx)("section",{id:"main-content",children:Object(o.jsxs)("form",{id:"form",onSubmit:function(n){n.preventDefault();var a=n.target.elements;(function(t){var n=Object.values(t).filter((function(e){return""===e})),a=e.users,c=!1;return a.forEach((function(e){e.email===t.email&&(c=!0)})),c?(l({message:"This email already exists. Try again.",style:"danger"}),!1):n.length>0?(l({message:"All fields are required.",style:"danger"}),!1):(l(""),a.unshift(t),e.setUsers(a),localStorage.setItem("users",JSON.stringify(a)),l({message:"Successfully saved.",style:"success"}),!0)})({email:a.email.value,password:a.password.value,fullname:a.fullname.value,type:a.accountType.value,number:a.accountNumber.value,isAdmin:!1,balance:h(a.initialBalance.value),transactions:[]})&&(a.email.value="",a.password.value="",a.fullname.value="",a.accountNumber.value=g(t()),a.initialBalance.value=j(0))},children:[Object(o.jsx)("h1",{children:"Create Account"}),Object(o.jsx)(E,{message:s.message,style:s.style}),Object(o.jsx)("label",{htmlFor:"fullname",children:"Full name"}),Object(o.jsx)("input",{id:"fullname",type:"text",autoComplete:"off",name:"fullname"}),Object(o.jsx)("hr",{}),Object(o.jsx)("label",{htmlFor:"account-number",children:"Account # (Randomly Generated)"}),Object(o.jsx)("input",{id:"account-number",name:"accountNumber",className:"right",value:O,type:"number",disabled:!0}),Object(o.jsx)("label",{htmlFor:"balance",children:"Initial balance"}),Object(o.jsx)("input",{id:"balance",type:"text",value:p(b),onChange:function(e){var t=h(e.target.value)||0;j(t)},name:"initialBalance",className:"right"}),Object(o.jsx)("label",{htmlFor:"account-type",children:"Account Type"}),Object(o.jsxs)("select",{name:"accountType",children:[Object(o.jsx)("option",{value:"Checking Account",children:"Checking Account"}),Object(o.jsx)("option",{value:"Savings Accounts",children:"Savings Account"})]}),Object(o.jsx)("hr",{}),Object(o.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(o.jsx)("input",{id:"email",type:"email",name:"email"}),Object(o.jsx)("label",{htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{id:"password",type:"password",name:"password"}),Object(o.jsx)("input",{value:"Create Account",className:"btn",type:"submit"})]})})},I=function(e){var t=Object(a.useState)("home"),n=Object(i.a)(t,2),c=n[0],s=n[1],l=Object(a.useState)(e.users),r=Object(i.a)(l,2),b=r[0],d=r[1],m=Object(a.useState)({message:"",style:""}),O=Object(i.a)(m,2),g=(O[0],O[1]),f=Object(a.useState)(null),x=Object(i.a)(f,2),p=x[0],h=x[1],v=Object(a.useState)(null),y=Object(i.a)(v,2),S=y[0],N=y[1],C=Object(a.useState)(!1),A=Object(i.a)(C,2),w=A[0],E=A[1],I=Object(a.useState)(!1),H=Object(i.a)(I,2),F=H[0],M=H[1],B=Object(a.useState)(null),J=Object(i.a)(B,2),P=J[0],T=J[1],L=function(e){s(e),"withdraw"===e&&g({message:"Select an account to withdraw money from.",style:"left"}),"deposit"===e&&g({message:"Select an account to deposit money.",style:"left"})};Object(a.useEffect)((function(){if(null!==S){var e=b.filter((function(e,t){return t!==S}));d(e),N(null),localStorage.setItem("users",JSON.stringify(e))}}),[S]),Object(a.useEffect)((function(){if(F){var e=b.map((function(e,t){return e.number===P.number&&(e=Object(u.a)(Object(u.a)({},e),P)),e}));d(e),M(!1),localStorage.setItem("users",JSON.stringify(e))}}),[F]);var q=null;if(null!==p&&w){var R=b[p];q=Object(o.jsx)(D,{accountName:R.fullname,accountNumber:R.number,balance:R.balance,setEditModal:E,setIsUpdate:M,setNewAccount:T,setIsUpdate2:M})}return"home"===c?Object(o.jsxs)("main",{children:[Object(o.jsx)(j,{changePage:L,page:c,logoutHandler:e.logoutHandler}),Object(o.jsx)(U,{users:b,editingUser:p,setEditModal:E,setEditingUser:h,setDeleteUser:N}),q]}):"create-account"===c?Object(o.jsxs)("main",{children:[Object(o.jsx)(j,{changePage:L,page:c,logoutHandler:e.logoutHandler}),Object(o.jsx)(k,{users:b,setUsers:d})]}):void 0},D=function(e){var t=e.accountName,n=e.accountNumber,c=e.balance,s=e.setEditModal,l=e.setNewAccount,r=e.setIsUpdate,b=Object(a.useState)({fullname:t,number:n,balance:c}),j=Object(i.a)(b,2),d=j[0],m=j[1];return Object(o.jsx)("div",{className:"overlay",children:Object(o.jsx)("div",{className:"modal",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("Update"),l(d),r(!0),s(!1)},children:[Object(o.jsx)("h2",{className:"title",children:"Edit Account"}),Object(o.jsx)("label",{children:"Account name"}),Object(o.jsx)("input",{name:"account-name",onChange:function(e){var t=e.target.value;m(Object(u.a)(Object(u.a)({},d),{fullname:t}))},value:d.fullname,autoComplete:"off"}),Object(o.jsx)("label",{children:"Account number"}),Object(o.jsx)("input",{type:"text",name:"amount",onChange:function(e){var t=e.target.value;m(Object(u.a)(Object(u.a)({},d),{number:t}))},disabled:!0,value:d.number,autoComplete:"off"}),Object(o.jsx)("label",{children:"Balance"}),Object(o.jsx)("input",{type:"text",name:"balance",onChange:function(e){var t=e.target.value;m(Object(u.a)(Object(u.a)({},d),{balance:parseFloat(t)||0}))},value:d.balance,autoComplete:"off"}),Object(o.jsx)("button",{type:"button",onClick:function(){s(!1)},className:"btn2 btn-muted",children:"Cancel"}),Object(o.jsx)("button",{type:"submit",className:"btn2",children:"Update Account"})]})})})},H=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],s=n[1],l=Object(a.useState)(""),r=Object(i.a)(l,2),u=r[0],j=r[1];return Object(o.jsx)("div",{id:"login-page",children:Object(o.jsxs)("div",{id:"login",children:[Object(o.jsx)(b,{}),Object(o.jsx)(E,{message:e.notif.message,style:e.notif.style}),Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.loginHandler(c,u)},children:[Object(o.jsx)("label",{htmlFor:"username",children:"Username"}),Object(o.jsx)("input",{id:"username",autoComplete:"off",onChange:function(e){s(e.target.value)},value:c,type:"text"}),Object(o.jsx)("label",{htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{id:"password",autoComplete:"off",onChange:function(e){j(e.target.value)},value:u,type:"password"}),Object(o.jsx)("button",{type:"submit",className:"btn",children:"Login"})]})]})})},F=n(9),M=function(e){var t=e.client,n=Object(a.useState)(t.budget||[]),c=Object(i.a)(n,2),s=c[0],l=c[1],r=Object(a.useState)(t.fullname||[]),u=Object(i.a)(r,2),b=u[0],j=(u[1],Object(a.useState)(!1)),d=Object(i.a)(j,2),m=d[0],O=d[1],g=Object(a.useState)({title:"",amount:""}),f=Object(i.a)(g,2),x=f[0],h=f[1],v=Object(a.useState)("add"),S=Object(i.a)(v,2),N=S[0],C=S[1],A=function(){return s.reduce((function(e,t){return e+t.amount}),0)},w=A(),U=Object(a.useState)(t.balance-w),E=Object(i.a)(U,2),k=E[0],I=E[1],D=function(e){var t=s[e];t.id=e,h(t),C("edit"),O(!0)},H=m?Object(o.jsx)(B,{title:x.title,id:x.id,amount:x.amount,modalAction:N,setIsModalOpen:O,saveBudget:function(e,n){if((e=parseFloat(e))>0){I(k-e);var a=[{title:n,amount:e}].concat(Object(F.a)(s));l(a),O(!1),y(t.number,a)}},updateBudget:function(e){var n=e.id,a=e.amount,c=e.title,i=s[n];i.title=c,i.amount=a,l(s),y(t.number,s);var r=A();I(t.balance-r),O(!1)}}):"",M=s.map((function(e,n){var a=n%2===0?"even":"odd";return Object(o.jsxs)("div",{className:"budget-row ".concat(a),children:[Object(o.jsxs)("div",{className:"budget-title",children:[Object(o.jsx)("button",{type:"button",onClick:function(){return function(e){var n=s.filter((function(t,n){return e!==n}));I(k+s[e].amount),l(n),y(t.number,n)}(n)},className:"mr",children:Object(o.jsx)("i",{class:"bx bxs-x-square"})}),Object(o.jsx)("button",{type:"button",onClick:function(){return D(n)},className:"mr",children:Object(o.jsx)("i",{class:"bx bx-edit-alt"})}),Object(o.jsx)("span",{onClick:function(){return D(n)},children:e.title})]}),Object(o.jsx)("div",{children:p(e.amount)})]})}));return Object(o.jsxs)("div",{id:"main-content",children:[Object(o.jsxs)("form",{id:"form",className:"budget",children:[Object(o.jsxs)("h1",{children:["Welcome, ",b,"! "]}),Object(o.jsx)("div",{children:"Plan  and forsee your expenses using our Budget App."}),Object(o.jsxs)("div",{id:"budget",children:[Object(o.jsxs)("div",{className:"budget-menu",children:[Object(o.jsx)("div",{children:Object(o.jsxs)("button",{className:"btn2",onClick:function(e){e.preventDefault(),h({title:"",amount:""}),C("add"),O(!0)},children:[Object(o.jsx)("i",{className:"bx bx-book-add"})," Add budget"]})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Alloted Budget"}),Object(o.jsxs)("h1",{children:["$",p(t.balance)]}),Object(o.jsx)("label",{children:"Total Expense"}),Object(o.jsxs)("h1",{children:[" $",p(w)]}),Object(o.jsx)("label",{children:"Remaining Budget"}),Object(o.jsxs)("h1",{className:k<0?"danger":"",children:["$",p(k)]})]})]}),Object(o.jsx)("div",{className:"budget-body",children:M})]})]}),H]})},B=function(e){var t=e.saveBudget,n=e.updateBudget,c=e.setIsModalOpen,s=e.title,l=e.amount,r=e.modalAction,b=e.id,j=Object(a.useState)({id:b,title:s,amount:l}),d=Object(i.a)(j,2),m=d[0],O=d[1],g=Object(a.useState)(r),f=Object(i.a)(g,2),x=f[0];f[1];return Object(o.jsx)("div",{className:"overlay",children:Object(o.jsx)("div",{className:"modal",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"add"===x&&t(m.amount,m.title),"edit"===x&&n(m)},children:[Object(o.jsxs)("h2",{className:"title",children:[x," budget"]}),Object(o.jsx)("label",{children:"description"}),Object(o.jsx)("textarea",{name:"title",onChange:function(e){O(Object(u.a)(Object(u.a)({},m),{},{title:e.target.value}))},defaultValue:m.title}),Object(o.jsx)("label",{children:"Amount"}),Object(o.jsx)("input",{type:"number",name:"amount",onChange:function(e){O(Object(u.a)(Object(u.a)({},m),{},{amount:parseFloat(e.target.value)}))},value:m.amount,autoComplete:"off"}),Object(o.jsx)("button",{type:"button",onClick:function(){return c(!1)},className:"btn2 btn-muted",children:"Cancel"}),Object(o.jsxs)("button",{type:"submit",className:"btn2",children:[x," Budget"]})]})})})},J=function(e){e.logout;var t=e.client,n=e.setClient,c=Object(a.useState)("home"),s=Object(i.a)(c,2),l=s[0],r=s[1];if("home"===l)return Object(o.jsxs)("main",{children:[Object(o.jsx)(j,{changePage:function(e){r(e);var a=v(t.number);n(a)},page:l,user:t,logoutHandler:e.logout}),Object(o.jsx)(M,{client:t})]})},P=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({message:"",style:""}),l=Object(i.a)(s,2),u=l[0],b=l[1],j=Object(a.useState)(!1),d=Object(i.a)(j,2),m=d[0],O=d[1],g=Object(a.useState)(null),f=Object(i.a)(g,2),x=f[0],p=f[1];localStorage.getItem("users")||localStorage.setItem("users",JSON.stringify(r));var h=JSON.parse(localStorage.getItem("users")),v=function(){c(!1),localStorage.removeItem("client"),b({message:"You have been logged out.",style:"success"})};return n?(localStorage.setItem("currentUser",JSON.stringify(x)),m?Object(o.jsx)(I,{users:h,logoutHandler:v}):Object(o.jsx)(J,{client:x,users:h,setClient:p,logout:v})):Object(o.jsx)(H,{loginHandler:function(e,t){(function(e,t){var n=!1;return h.forEach((function(a){a.email===e&&a.password===t&&(a.isAdmin?(O(!0),p(a),n=!0):(O(!1),p(a),n=!0),b(""))})),n||b({message:"Wrong username and password.",style:"danger"}),n})(e,t)&&c(!0)},notif:u,isLoggedIn:n})};var T=function(){return Object(o.jsx)(P,{})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),a(e),c(e),s(e),l(e)}))};l.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(T,{})}),document.getElementById("root")),L()}},[[17,1,2]]]);
//# sourceMappingURL=main.c2dd582c.chunk.js.map